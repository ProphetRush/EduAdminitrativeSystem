<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="springmvc.mapper.UserMapper">

    <insert id="initUsers" parameterType="java.util.List">
        INSERT INTO user (ID, group_id, user_group, password, username) VALUES
            <foreach collection="list" item="item" index="index" separator=",">
                (#{item.id}, #{item.group_id}, #{item.user_group}, #{item.password}, #{item.username})
            </foreach>
    </insert>

    <select id="getUser" resultType="User">
        SELECT * from user where group_id = #{gid} and user_group = #{ug} limit 0,1
    </select>

    <select id="get" resultType="User">
        SELECT * FROM user WHERE ID=#{id} limit 0,1
    </select>

    <update id="update" parameterType="User">
        UPDATE user set group_id=#{group_id}, user_group=#{user_group}, password=#{password}, username=#{username} where ID=#{id}
    </update>
</mapper>